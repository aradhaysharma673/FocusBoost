<!doctype html>
<html>
<head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>FocusBoost Options</title><link rel="stylesheet" href="popup.css"></head>
<body class="p-4">
<h1 class="text-lg font-bold">FocusBoost Settings</h1>
<div class="mt-3">
<label class="block">Work minutes: <input id="workMinutes" type="number" min="1" value="25" class="p-1 border rounded"/></label>
<label class="block mt-2">Break minutes: <input id="breakMinutes" type="number" min="1" value="5" class="p-1 border rounded"/></label>
<label class="block mt-2">Blocklist (comma separated):<textarea id="blocklist" class="w-full p-2 border rounded" rows="4"></textarea></label>
<div class="mt-2"><button id="save" class="px-3 py-1 rounded bg-blue-500 text-white">Save</button><span id="msg" class="ml-2"></span></div>
</div>
<script>
const $ = id => document.getElementById(id);
chrome.storage.local.get(['prefs'], (res)=>{ const p = res.prefs||{}; $('workMinutes').value = p.workMinutes||25; $('breakMinutes').value = p.breakMinutes||5; $('blocklist').value = (p.blocklist||[]).join(','); });
$('save').addEventListener('click', ()=>{ const prefs = { workMinutes: parseInt($('workMinutes').value,10)||25, breakMinutes: parseInt($('breakMinutes').value,10)||5, blocklist: $('blocklist').value.split(',').map(s=>s.trim()).filter(Boolean)}; chrome.storage.local.set({prefs}, ()=>{ $('msg').innerText='Saved!'; setTimeout(()=>$('msg').innerText='',1500); chrome.runtime.sendMessage({type:'prefs_updated'}); }); });
</script>
</body>
</html>
